{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Proj/cafe-bakery-saas/src/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll()\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            )\n          } catch {\n            // The `setAll` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing\n            // user sessions.\n          }\n        },\n      },\n    }\n  )\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,sUAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Proj/cafe-bakery-saas/src/app/auth/signup/actions.ts"],"sourcesContent":["'use server'\n\nimport { createClient } from '@/lib/supabase/server'\nimport { headers } from 'next/headers'\n\nexport type SignupState = {\n  error?: string\n  success: boolean\n  message?: string\n  redirect?: string\n}\n\nexport async function signup(prevState: SignupState, formData: FormData): Promise<SignupState> {\n  const supabase = await createClient()\n  const origin = (await headers()).get('origin')\n\n  const email = formData.get('email') as string\n  const password = formData.get('password') as string\n  const name = formData.get('name') as string\n\n  // 1. Basic Validation\n  if (!email || !password || !name) {\n    return { error: '모든 필드를 입력해주세요.', success: false }\n  }\n\n  try {\n    // 2. Sign Up with Supabase Auth\n    const { data, error } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        emailRedirectTo: `${origin}/auth/callback`,\n        data: {\n          name: name,\n          full_name: name, // Supabase often uses full_name by default, adding both for safety\n        },\n      },\n    })\n\n    if (error) {\n      console.error('Signup Error:', error)\n      return { error: error.message, success: false }\n    }\n\n    // 3. Check for Email Confirmation Requirement\n    if (data.user && !data.session) {\n      return { \n        success: true, \n        message: '가입 확인 이메일을 보냈습니다. 이메일을 확인해주세요.' \n      }\n    }\n\n    // 4. Success (Session created)\n    return { success: true, redirect: '/onboarding' }\n\n  } catch (err) {\n    console.error('Unexpected Signup Error:', err)\n    return { error: '알 수 없는 오류가 발생했습니다.', success: false }\n  }\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;;;AASO,eAAe,OAAO,SAAsB,EAAE,QAAkB;IACrE,MAAM,WAAW,MAAM,IAAA,gJAAY;IACnC,MAAM,SAAS,CAAC,MAAM,IAAA,0IAAO,GAAE,EAAE,GAAG,CAAC;IAErC,MAAM,QAAQ,SAAS,GAAG,CAAC;IAC3B,MAAM,WAAW,SAAS,GAAG,CAAC;IAC9B,MAAM,OAAO,SAAS,GAAG,CAAC;IAE1B,sBAAsB;IACtB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM;QAChC,OAAO;YAAE,OAAO;YAAkB,SAAS;QAAM;IACnD;IAEA,IAAI;QACF,gCAAgC;QAChC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,MAAM,CAAC;YACjD;YACA;YACA,SAAS;gBACP,iBAAiB,GAAG,OAAO,cAAc,CAAC;gBAC1C,MAAM;oBACJ,MAAM;oBACN,WAAW;gBACb;YACF;QACF;QAEA,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,OAAO;gBAAE,OAAO,MAAM,OAAO;gBAAE,SAAS;YAAM;QAChD;QAEA,8CAA8C;QAC9C,IAAI,KAAK,IAAI,IAAI,CAAC,KAAK,OAAO,EAAE;YAC9B,OAAO;gBACL,SAAS;gBACT,SAAS;YACX;QACF;QAEA,+BAA+B;QAC/B,OAAO;YAAE,SAAS;YAAM,UAAU;QAAc;IAElD,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;YAAE,OAAO;YAAsB,SAAS;QAAM;IACvD;AACF;;;IA/CsB;;AAAA,+OAAA"}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Proj/cafe-bakery-saas/.next-internal/server/app/auth/signup/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {signup as '602a97e5cda5576a20779f84834ea5e7ce77b031ba'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}