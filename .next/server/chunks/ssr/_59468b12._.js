module.exports=[37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},49342,a=>{"use strict";var b=a.i(37936),c=a.i(16349),d=a.i(18558);async function e(){let a=await (0,c.createClient)(),{data:{user:b}}=await a.auth.getUser();if(!b)throw Error("Unauthorized");let{data:d}=await a.from("user_roles").select("store_id").eq("user_id",b.id).single();if(!d?.store_id)return[];let{data:e,error:f}=await a.from("items").select(`
      *,
      category:categories(name)
    `).eq("store_id",d.store_id).order("name");if(f)throw console.error("Error fetching items:",f),Error("Failed to fetch items");return e}async function f(a){let b=await (0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)return{error:"Unauthorized"};let{data:f}=await b.from("user_roles").select("store_id").eq("user_id",e.id).single();if(!f?.store_id)return{error:"Store not found for user"};let{data:g,error:h}=await b.from("items").insert({store_id:f.store_id,name:a.name,code:a.code,type:a.type,base_unit:a.base_unit,safety_stock:a.safety_stock,category_id:a.category_id,is_active:!0}).select().single();return h?(console.error("Error creating item:",h),{error:`Failed to create item: ${h.message}`}):((0,d.revalidatePath)("/dashboard/items"),{success:!0,item:g})}async function g(a){let b=await (0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)return{error:"Unauthorized"};let{data:f}=await b.from("user_roles").select("store_id").eq("user_id",e.id).single();if(!f?.store_id)return{error:"Store not found for user"};let{error:g}=await b.from("items").delete().eq("id",a).eq("store_id",f.store_id);return g?{error:g.message}:((0,d.revalidatePath)("/dashboard/items"),{success:!0})}(0,a.i(13095).ensureServerEntryExports)([e,f,g]),(0,b.registerServerReference)(e,"0032a9292fd658e87efa1a3bdfe53febeb39ebd0fe",null),(0,b.registerServerReference)(f,"40757eb82f73ab6c0b123ae36dd618a65b81e4c38f",null),(0,b.registerServerReference)(g,"405587be46d836851ba73f18c1a41bdd1627263589",null),a.s(["createItem",()=>f,"deleteItem",()=>g,"getItems",()=>e])},64852,a=>{"use strict";var b=a.i(49342);a.s([],73200),a.i(73200),a.s(["0032a9292fd658e87efa1a3bdfe53febeb39ebd0fe",()=>b.getItems,"405587be46d836851ba73f18c1a41bdd1627263589",()=>b.deleteItem,"40757eb82f73ab6c0b123ae36dd618a65b81e4c38f",()=>b.createItem],64852)}];

//# sourceMappingURL=_59468b12._.js.map